"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4481],{4481:function(e,a,s){s.d(a,{Z:function(){return _}});var r=s(5893),n=s(7294),t=s(3823),l=s(7568),i=s(4924),c=s(6042),o=s(9396),d=s(9815),u=s(7582),m=s(2286),h=s(5611),p=s(2512),v=s(9669),x=s.n(v),j=s(6968),f=s(8370),g=s(279),N=s(7105),b={productImage:"",hoverImage:"",name:"",description:"",price:"",oldPrice:"",newProduct:"",availability:"",offer:"",onSale:"",discount:"",discountPercent:"",productType:""},y=function(e){var a=e.active,s=e.productSideModal,t=e.user,v=e.store,y=(0,m.parseCookies)().livani_token,C=(0,h.e1)().addToast,_=(0,n.useState)(b),Z=_[0],P=_[1],S=(0,n.useState)(""),k=S[0],w=S[1],I=(0,n.useState)(""),T=I[0],D=I[1],E=(0,n.useState)("true"),R=E[0],U=E[1],A=(0,n.useState)("true"),F=A[0],O=A[1],Y=(0,n.useState)("true"),z=Y[0],L=Y[1],M=(0,n.useState)("true"),q=M[0],B=M[1],W=(0,n.useState)(""),G=W[0],J=W[1],X=(0,n.useState)(!1),H=X[0],K=X[1],Q=(0,n.useState)([]),V=Q[0],$=Q[1],ee=(0,n.useCallback)((function(e){e.forEach(function(){var e=(0,l.Z)((function(e){var a,s;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return(a=new FormData).append("file",e),a.append("upload_preset","vikings"),a.append("cloud_name","dev-empty"),[4,x().post("https://api.cloudinary.com/v1_1/dev-empty/image/upload",a)];case 1:return[4,r.sent().data.url];case 2:return s=r.sent(),$((function(e){return(0,d.Z)(e).concat([s])})),[2]}}))}));return function(a){return e.apply(this,arguments)}}())}),[]),ae=(0,p.uI)({accept:"image/*",onDrop:ee}),se=ae.getRootProps,re=ae.getInputProps,ne=V.map((function(e,a){return(0,r.jsx)("div",{className:"drop-gallery-thumb",children:(0,r.jsx)("img",{src:e,className:"img-thumbnail"})},a)}));(0,n.useEffect)((function(){return function(){V.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[V]);var te=function(e){var a=e.target,s=a.name,r=a.value,n=a.files;if("hoverImage"===s){if(n[0].size/1024/1024>2)return void(e.target.value=null);P((function(e){return(0,o.Z)((0,c.Z)({},e),{hoverImage:n[0]})})),J(window.URL.createObjectURL(n[0]))}else P((function(e){return(0,o.Z)((0,c.Z)({},e),(0,i.Z)({},s,r))}))},le=function(){var e=(0,l.Z)((function(){var e,a;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:return(e=new FormData).append("file",Z.hoverImage),e.append("upload_preset","vikings"),e.append("cloud_name","dev-empty"),[4,x().post("https://api.cloudinary.com/v1_1/dev-empty/image/upload",e)];case 1:return a=s.sent(),[2,a.data.url]}}))}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,l.Z)((function(e){var a,r,n,l,i,c,o,d,m,h,p;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:e.preventDefault(),u.label=1;case 1:return u.trys.push([1,5,6,7]),K(!0),w(""),a="",Z.hoverImage?[4,le()]:[3,3];case 2:r=u.sent(),a=r.replace(/^http:\/\//i,"https://"),u.label=3;case 3:return n="".concat(N.Z,"/api/v1/products"),l=Z.name,i=Z.description,c=Z.price,o=Z.oldPrice,d=Z.availability,m=Z.discountPercent,h={storeId:v.id,userId:t.id,productImage:V,hoverImage:a,name:l,description:i,price:c,oldPrice:o,newProduct:F,availability:d,offer:z,onSale:R,discount:q,discountPercent:m,productType:T},[4,x().post(n,h,{headers:{Authorization:y}})];case 4:return u.sent(),K(!1),P(b),$([]),J(""),D(""),s(),C("Product created successfully.",{appearance:"success"}),[3,7];case 5:return p=u.sent(),(0,g.Z)(p,w),[3,7];case 6:return K(!1),[7];case 7:return[2]}}))}));return function(a){return e.apply(this,arguments)}}();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:a?"admin-product-modal active":"admin-product-modal",children:(0,r.jsx)("div",{className:"modal-innter-content",children:(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsx)("button",{type:"button",className:"close",onClick:s,children:(0,r.jsx)("span",{"aria-hidden":"true",children:(0,r.jsx)("i",{className:"bx bx-x"})})}),(0,r.jsx)("h3",{children:"Add Product"}),(0,r.jsxs)("form",{onSubmit:ie,children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Upload your Product image here"}),(0,r.jsx)("div",(0,o.Z)((0,c.Z)({},se()),{className:"dropzone add-images-box upload-img",children:1===V.length?(0,r.jsxs)("div",{className:"gallery-flex-single ",children:[ne,(0,r.jsx)("input",(0,c.Z)({},re()))]}):V.length>1?(0,r.jsxs)("div",{className:"gallery-flex ",children:[ne,(0,r.jsx)("input",(0,c.Z)({},re()))]}):(0,r.jsxs)("div",{className:"file-upload-box global-pointer",children:[(0,r.jsx)("input",(0,c.Z)({},re())),(0,r.jsx)("i",{className:"bx bxs-image-add"}),(0,r.jsx)("p",{children:"click here to select files"})]})}))]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Upload your Product hover image here"}),(0,r.jsxs)("div",{className:"upload-img",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("i",{className:"bx bxs-image-add"}),"Click here or drop files to upload"]}),(0,r.jsx)("input",{type:"file",className:"form-control-file",name:"hoverImage",onChange:te})]}),G&&(0,r.jsx)("div",{className:"uploaded-img",children:(0,r.jsx)("img",{src:G,alt:"Image",className:"img-thumbnail"})})]}),(0,r.jsx)("h4",{className:"title",children:"Add your Product description and necessary information from here"}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Name"}),(0,r.jsx)("input",{type:"text",className:"form-control",name:"name",value:Z.name,onChange:te})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Description"}),(0,r.jsx)("textarea",{className:"form-control",rows:"5",name:"description",value:Z.description,onChange:te})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Price"}),(0,r.jsx)("input",{type:"number",className:"form-control",name:"price",value:Z.price,onChange:te})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Old Price"}),(0,r.jsx)("input",{type:"number",className:"form-control",name:"oldPrice",value:Z.oldPrice,onChange:te})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"New Product?"}),(0,r.jsxs)("select",{className:"form-control",onChange:function(e){return O(e.target.value)},children:[(0,r.jsx)("option",{value:"true",children:"Yes"}),(0,r.jsx)("option",{value:"false",children:"No"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Available Items"}),(0,r.jsx)("input",{type:"number",className:"form-control",name:"availability",value:Z.availability,onChange:te})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Offer"}),(0,r.jsxs)("select",{className:"form-control",onChange:function(e){return L(e.target.value)},children:[(0,r.jsx)("option",{value:"true",children:"Yes"}),(0,r.jsx)("option",{value:"false",children:"No"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"On Sale?"}),(0,r.jsxs)("select",{className:"form-control",onChange:function(e){return U(e.target.value)},children:[(0,r.jsx)("option",{value:"true",children:"Yes"}),(0,r.jsx)("option",{value:"false",children:"No"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Discount?"}),(0,r.jsxs)("select",{className:"form-control",onChange:function(e){return B(e.target.value)},children:[(0,r.jsx)("option",{value:"true",children:"Yes"}),(0,r.jsx)("option",{value:"false",children:"No"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Discount In Percent (1 or 10 ...)"}),(0,r.jsx)("input",{type:"number",className:"form-control",name:"discountPercent",value:Z.discountPercent,onChange:te})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Product Type"}),(0,r.jsxs)("select",{className:"form-control",onChange:function(e){return D(e.target.value)},value:T,children:[(0,r.jsx)("option",{children:"Select Category"}),(0,r.jsx)("option",{value:"T-Shirt",children:"T-Shirt"}),(0,r.jsx)("option",{value:"Bags",children:"Bags"}),(0,r.jsx)("option",{value:"Shoes",children:"Shoes"}),(0,r.jsx)("option",{value:"Women Clothes",children:"Women Clothes"}),(0,r.jsx)("option",{value:"medical",children:"Medical Equipment"}),(0,r.jsx)("option",{value:"grocery",children:"Grocery"}),(0,r.jsx)("option",{value:"electronics",children:"Electronics"}),(0,r.jsx)("option",{value:"furniture",children:"Furniture"}),(0,r.jsx)("option",{value:"jewelry",children:"Jewelry"})]})]}),(0,r.jsxs)("div",{className:"modal-btn",children:[(0,r.jsx)("div",{className:"btn optional-btn float-left",onClick:s,children:"Cancel"}),(0,r.jsxs)("button",{className:"btn default-btn float-right",children:["Create Product",H?(0,r.jsx)(j.Z,{color:"success",className:"product-spinner",animation:"border",size:"sm"}):""]})]}),k?(0,r.jsx)("div",{className:"create-alert",children:(0,r.jsx)(f.Z,{variant:"danger",show:!!k,children:k})}):""]})]})})})})},C=s(3240),_=function(e){var a=e.user,s=e.store,l=(0,n.useState)(!1),i=(l[0],l[1]),c=(0,n.useState)(!1),o=c[0],d=c[1];(0,n.useEffect)((function(){i(!1)}),[]);var u=function(){d(!o)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"Toastify__toast-container Toastify__toast-container--bottom-center",children:(0,r.jsxs)("div",{className:"Toastify__toast Toastify__toast--warning",children:[(0,r.jsxs)("div",{role:"alert",className:"Toastify__toast-body",children:[(0,r.jsx)("i",{className:"bx bx-info-circle"})," Some functions may not work because of storefront vulnerability!"]}),(0,r.jsx)("div",{className:"Toastify__progress-bar Toastify__progress-bar--controlled Toastify__progress-bar--warning",style:{animationDuration:"50000ms",animationPlayState:"paused",opacity:"1",transform:"scaleX(0)"}})]})}),(0,r.jsxs)("nav",{className:"navbar navbar-expand admin-top-navbar",children:[(0,r.jsx)(t.Z,{href:"/admin/dashboard",children:(0,r.jsx)("a",{className:"navbar-brand",children:(0,r.jsx)("img",{src:"../../images/logo.png",a:"logo"})})}),(0,r.jsxs)("div",{className:"burger-menu x",children:[(0,r.jsx)("span",{className:"top-bar"}),(0,r.jsx)("span",{className:"middle-bar"}),(0,r.jsx)("span",{className:"bottom-bar"})]}),(0,r.jsx)("div",{className:"collapse navbar-collapse show",id:"navbarSupportedContent",children:(0,r.jsxs)("ul",{className:"navbar-nav ms-auto",children:[(0,r.jsx)("li",{className:"nav-item add-products",children:(0,r.jsx)(t.Z,{href:"#",activeClassName:"active",children:(0,r.jsx)("a",{className:"nav-link",onClick:u,children:"Add Products"})})}),(0,r.jsxs)("li",{className:"nav-item profile",children:[(0,r.jsx)(t.Z,{href:"#",children:(0,r.jsxs)("a",{className:"nav-link",children:[(0,r.jsx)("i",{className:"bx bx-user "})," ",a&&a.name," "]})}),(0,r.jsxs)("ul",{className:"dropdown-menu",children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(t.Z,{href:"/admin/dashboard",activeClassName:"active",children:(0,r.jsx)("a",{className:"nav-link",children:"Dashboard"})})}),(0,r.jsx)("li",{className:"nav-item",children:s&&"approved"===s.status&&(0,r.jsx)(t.Z,{href:"/stores/dashboard",activeClassName:"active",children:(0,r.jsx)("a",{className:"nav-link",children:"Store Dashboard"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(t.Z,{href:"/profile",activeClassName:"active",children:(0,r.jsx)("a",{className:"nav-link",children:" My Profile"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(t.Z,{href:"#",activeClassName:"active",children:(0,r.jsx)("a",{onClick:C.hY,className:"nav-link",children:"Sign out"})})})]})]})]})})]}),(0,r.jsx)(y,{active:o,productSideModal:u,user:a,store:s})]})}},3823:function(e,a,s){var r=s(6042),n=s(9396),t=s(9534),l=s(5893),i=s(1163),c=s(1664),o=s.n(c),d=s(7294);a.Z=(0,i.withRouter)((function(e){var a=e.router,s=e.children,i=(0,t.Z)(e,["router","children"]),c=d.Children.only(s),u=c.props.className||"";return a.pathname===i.href&&i.activeClassName&&(u="".concat(u," ").concat(i.activeClassName).trim()),delete i.activeClassName,(0,l.jsx)(o(),(0,n.Z)((0,r.Z)({},i),{children:d.cloneElement(c,{className:u})}))}))},279:function(e,a){a.Z=function(e,a){var s;e.response?(s=e.response.data,e.response.data.error&&(s=e.response.data.error.message)):e.request&&(s=e.request),a(s)}}}]);