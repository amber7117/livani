"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1962],{7513:function(e,n,s){var a=s(7568),r=s(4924),t=s(6042),i=s(9396),c=s(9815),l=s(7582),o=s(5893),d=s(7294),u=s(2286),p=s(5611),m=s(2512),h=s(9669),x=s.n(h),v=s(6968),j=s(279),f=s(7105),g={productImage:"",hoverImage:"",name:"",description:"",price:"",oldPrice:"",newProduct:"",availability:"",offer:"",onSale:"",discount:"",discountPercent:"",productType:""};n.Z=function(e){var n=e.handleEdit,s=e.user,h=e.store,N=e.productUpdate,b=e.activeEditModal,y=e.setProductList,P=(0,u.parseCookies)().livani_token,C=(0,p.e1)().addToast,w=(0,d.useState)(g),Z=w[0],I=w[1],S=(0,d.useState)(""),k=(S[0],S[1]),_=(0,d.useState)(""),D=_[0],E=_[1],T=(0,d.useState)("true"),U=T[0],F=T[1],z=(0,d.useState)("true"),A=z[0],L=z[1],O=(0,d.useState)("true"),R=O[0],B=O[1],Y=(0,d.useState)("true"),M=Y[0],H=Y[1],V=(0,d.useState)(""),W=V[0],q=V[1],G=(0,d.useState)(!1),J=G[0],$=G[1],K=(0,d.useState)([]),Q=K[0],X=K[1],ee=(0,d.useState)(!0),ne=ee[0],se=ee[1],ae=(0,d.useCallback)((function(e){se(!1),e.forEach(function(){var e=(0,a.Z)((function(e){var n,s;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return(n=new FormData).append("file",e),n.append("upload_preset","vikings"),n.append("cloud_name","dev-empty"),[4,x().post("https://api.cloudinary.com/v1_1/dev-empty/image/upload",n)];case 1:return[4,a.sent().data.url];case 2:return s=a.sent(),X((function(e){return(0,c.Z)(e).concat([s])})),[2]}}))}));return function(n){return e.apply(this,arguments)}}())}),[]),re=(0,m.uI)({accept:"image/*",onDrop:ae}),te=re.getRootProps,ie=re.getInputProps,ce=Q.map((function(e,n){return(0,o.jsx)("div",{className:"drop-gallery-thumb",children:(0,o.jsx)("img",{src:e,className:"img-thumbnail"})},n)}));(0,d.useEffect)((function(){return function(){Q.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[Q]),(0,d.useEffect)((function(){I({productImage:N.productImage,hoverImage:N.hoverImage,name:N.name,description:N.description,price:N.price,oldPrice:N.oldPrice,newProduct:N.newProduct,availability:N.availability,offer:N.offer,onSale:N.onSale,discount:N.discount,discountPercent:N.discountPercent,productType:N.productType})}),[N]);var le=function(e){se(!1);var n=e.target,s=n.name,a=n.value,c=n.files;if("hoverImage"===s){if(c[0].size/1024/1024>2)return void(e.target.value=null);I((function(e){return(0,i.Z)((0,t.Z)({},e),{hoverImage:c[0]})})),q(window.URL.createObjectURL(c[0]))}else I((function(e){return(0,i.Z)((0,t.Z)({},e),(0,r.Z)({},s,a))}))},oe=function(){var e=(0,a.Z)((function(){var e,n;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return(e=new FormData).append("file",Z.hoverImage),e.append("upload_preset","vikings"),e.append("cloud_name","dev-empty"),[4,x().post("https://api.cloudinary.com/v1_1/dev-empty/image/upload",e)];case 1:return n=s.sent(),[2,n.data.url]}}))}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,a.Z)((function(e){var n,a,r,t,i,c,o,d,u,p,m,v,b;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:e.preventDefault(),l.label=1;case 1:return l.trys.push([1,5,6,7]),$(!0),k(""),n="",Z.productImage?[4,oe()]:[3,3];case 2:a=l.sent(),n=a.replace(/^http:\/\//i,"https://"),l.label=3;case 3:return r="".concat(f.Z,"/api/v1/products"),t=Z.productImage,i=Z.name,c=Z.description,o=Z.price,d=Z.oldPrice,u=Z.discountPercent,p=Z.availability,m={id:N.id,storeId:h.id,userId:s.id,productImage:Q.length>0?Q:t,hoverImage:n||hoverImage,name:i,description:c,price:o,oldPrice:d,newProduct:A,availability:p,offer:R,onSale:U,discount:M,discountPercent:u,productType:D},[4,x().put(r,m,{headers:{Authorization:P}})];case 4:return v=l.sent(),y(v.data.products),$(!1),I(g),C("Product Updated successfully.",{appearance:"success"}),[3,7];case 5:return b=l.sent(),(0,j.Z)(b,k),[3,7];case 6:return $(!1),[7];case 7:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:b?"admin-product-modal active":"admin-product-modal",children:(0,o.jsx)("div",{className:"modal-innter-content",children:(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("button",{type:"button",className:"close",onClick:n,children:(0,o.jsx)("span",{"aria-hidden":"true",children:(0,o.jsx)("i",{className:"bx bx-x"})})}),(0,o.jsx)("h3",{children:"Update Product"}),(0,o.jsxs)("form",{onSubmit:de,children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Upload your Product image here"}),(0,o.jsxs)("div",(0,i.Z)((0,t.Z)({className:"upload-img"},te()),{children:[(0,o.jsxs)("span",{children:[(0,o.jsx)("i",{className:"bx bxs-image-add"}),"Click here or drop files to upload"]}),(0,o.jsx)("div",{className:"dropzone add-listings-box",children:(0,o.jsx)("div",{className:"file-upload-box",children:(0,o.jsx)("input",(0,t.Z)({},ie()))})})]})),(0,o.jsxs)("div",{className:"dropzone add-listings-box",children:[1===Q.length&&(0,o.jsxs)("div",{className:"gallery-flex-single",children:[ce,(0,o.jsx)("input",(0,t.Z)({},ie()))]}),Q.length>1&&(0,o.jsxs)("div",{className:"gallery-flex",children:[ce,(0,o.jsx)("input",(0,t.Z)({},ie()))]})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Upload your Product hover image here"}),(0,o.jsxs)("div",{className:"upload-img",children:[(0,o.jsxs)("span",{children:[(0,o.jsx)("i",{className:"bx bxs-image-add"}),"Click here or drop files to upload"]}),(0,o.jsx)("input",{type:"file",className:"form-control-file",name:"hoverImage",onChange:le})]}),W&&(0,o.jsx)("div",{className:"uploaded-img",children:(0,o.jsx)("img",{src:W,alt:"Image",className:"img-thumbnail"})})]}),(0,o.jsx)("h4",{className:"title",children:"Add your Product description and necessary information from here"}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Name"}),(0,o.jsx)("input",{type:"text",className:"form-control",name:"name",value:Z.name||"",onChange:le})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Description"}),(0,o.jsx)("textarea",{className:"form-control",rows:"5",name:"description",value:Z.description||"",onChange:le})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Price"}),(0,o.jsx)("input",{type:"number",className:"form-control",name:"price",value:Z.price||"",onChange:le})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Old Price"}),(0,o.jsx)("input",{type:"number",className:"form-control",name:"oldPrice",value:Z.oldPrice||"",onChange:le})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"New Product?"}),(0,o.jsxs)("select",{className:"form-control",onChange:function(e){return L(e.target.value)},children:[(0,o.jsx)("option",{value:"true",children:"Yes"}),(0,o.jsx)("option",{value:"false",children:"No"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Available Items"}),(0,o.jsx)("input",{type:"number",className:"form-control",name:"availability",value:Z.availability||"",onChange:le})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Offer"}),(0,o.jsxs)("select",{className:"form-control",onChange:function(e){return B(e.target.value)},children:[(0,o.jsx)("option",{value:"true",children:"Yes"}),(0,o.jsx)("option",{value:"false",children:"No"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"On Sale?"}),(0,o.jsxs)("select",{className:"form-control",onChange:function(e){F(e.target.value),se(!1)},children:[(0,o.jsx)("option",{value:"true",children:"Yes"}),(0,o.jsx)("option",{value:"false",children:"No"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Discount?"}),(0,o.jsxs)("select",{className:"form-control",onChange:function(e){H(e.target.value),se(!1)},children:[(0,o.jsx)("option",{value:"true",children:"Yes"}),(0,o.jsx)("option",{value:"false",children:"No"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Discount In Percent (1 or 10 ...)"}),(0,o.jsx)("input",{type:"number",className:"form-control",name:"discountPercent",onChange:le})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Product Type"}),(0,o.jsxs)("select",{className:"form-control",onChange:function(e){E(e.target.value),se(!1)},children:[(0,o.jsx)("option",{children:"Select Category"}),(0,o.jsx)("option",{value:"T-Shirt",children:"T-Shirt"}),(0,o.jsx)("option",{value:"Bags",children:"Bags"}),(0,o.jsx)("option",{value:"Shoes",children:"Shoes"}),(0,o.jsx)("option",{value:"Women Clothes",children:"Women Clothes"}),(0,o.jsx)("option",{value:"medical",children:"Medical Equipment"}),(0,o.jsx)("option",{value:"grocery",children:"Grocery"}),(0,o.jsx)("option",{value:"electronics",children:"Electronics"}),(0,o.jsx)("option",{value:"furniture",children:"Furniture"}),(0,o.jsx)("option",{value:"jewelry",children:"Jewelry"})]})]}),(0,o.jsxs)("div",{className:"modal-btn",children:[(0,o.jsx)("div",{className:"btn optional-btn float-left",onClick:n,children:"Cancel"}),(0,o.jsxs)("button",{className:ne?"isDisabled btn default-btn float-right":"btn default-btn float-right",children:["Update Product",J?(0,o.jsx)(v.Z,{color:"success",className:"product-spinner",animation:"border",size:"sm"}):""]})]})]})]})})})})}},6311:function(e,n,s){var a=s(5893),r=s(1664),t=s.n(r);n.Z=function(e){var n=e.viewProductDetail,s=e.active,r=(e.handleViewProduct,e.handleActiveModal);return console.log("view",n),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:s?"admin-product-modal view-product active":"admin-product-modal view-product",children:(0,a.jsx)("div",{className:"modal-innter-content",children:(0,a.jsxs)("div",{className:"modal-body",children:[(0,a.jsx)("button",{type:"button",className:"close",onClick:r,children:(0,a.jsx)("span",{"aria-hidden":"true",children:(0,a.jsx)("i",{className:"bx bx-x"})})}),(0,a.jsx)("h3",{children:"View Product"}),(0,a.jsx)("div",{className:"view-product-content",children:(0,a.jsxs)("div",{className:"row align-items-center",children:[(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"product-img",children:[n&&(0,a.jsx)("img",{src:n.productImage[0],className:"main-image",alt:"image"}),"true"===n.onSale&&(0,a.jsx)("div",{className:"sale-tag",children:"Sale!"}),n.discountPercent&&(0,a.jsxs)("span",{className:"discount",children:[n.discountPercent,"% OFF"]})]})}),(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"products-details-desc",children:[(0,a.jsx)("h3",{children:n.name}),(0,a.jsx)("p",{children:n.description}),(0,a.jsx)("div",{className:"price",children:(0,a.jsxs)("span",{className:"new-price",children:["$",n.price]})}),(0,a.jsx)("ul",{className:"products-info",children:(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:"Availability:"}),(0,a.jsx)(t(),{href:"#",children:(0,a.jsx)("a",{onClick:function(e){return e.preventDefault()},children:"In stock (7 items)"})})]})}),(0,a.jsx)("ul",{className:"products-info",children:(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:"Product Categories:"}),(0,a.jsx)(t(),{href:"#",children:(0,a.jsx)("a",{onClick:function(e){return e.preventDefault()},children:n.productType})})]})})]})})]})})]})})})})}},7097:function(e,n,s){var a=s(7568),r=s(7582),t=s(5893),i=s(4861),c=s(5005),l=s(9669),o=s.n(l),d=s(7105),u=s(2286);n.Z=function(e){var n=e.show,s=e.productId,l=e.handleClose,p=e.productName,m=e.setProductList,h=(0,u.parseCookies)().livani_token,x=function(){var e=(0,a.Z)((function(){var e,n,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e={headers:{Authorization:h}},n="".concat(d.Z,"/api/v1/products/").concat(s),[4,o().delete(n,e)];case 1:return a=r.sent(),m(a.data),l(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.Z,{show:n,onHide:l,children:[(0,t.jsx)(i.Z.Header,{closeButton:!0,children:(0,t.jsx)(i.Z.Title,{children:p})}),(0,t.jsx)(i.Z.Body,{children:"Do you reall want to delete this product?"}),(0,t.jsxs)(i.Z.Footer,{children:[(0,t.jsx)(c.Z,{variant:"secondary",onClick:l,children:"Close"}),(0,t.jsx)(c.Z,{variant:"danger",onClick:x,children:"Delete"})]})]})})}}}]);